[20:34:15 DBG] Hosting starting
[20:34:15 INF] üöÄ Starting Patient Sync Worker...
[20:34:16 INF] Getting pending records ...
[20:34:16 INF] üöÄ Starting Encounter Sync Worker...
[20:34:16 INF] Getting pending records ...
[20:34:16 INF] üì° SyncMetricsReporter started for client: luth-101
[20:34:16 INF] Got 0 pending records from Patient...
[20:34:16 INF] Got 0 pending records from Encounter...
[20:34:16 ERR] Hosting failed to start
System.NullReferenceException: Object reference not set to an instance of an object.
   at Program.<>c__DisplayClass0_0.<<Main>$>b__0(DbContextOptionsBuilder options) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\Program.cs:line 52
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.DbContextOptionsConfiguration`1.Configure(IServiceProvider serviceProvider, DbContextOptionsBuilder optionsBuilder)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 44
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[20:34:16 ERR] BackgroundService failed
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Ship.Ses.Transmitter.Worker.PatientSyncWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\PatientSyncWorker.cs:line 75
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
[20:34:16 ERR] BackgroundService failed
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Ship.Ses.Transmitter.Worker.EncounterSyncWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\EncounterSyncWorker.cs:line 61
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
[20:34:16 FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Ship.Ses.Transmitter.Worker.PatientSyncWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\PatientSyncWorker.cs:line 75
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
[20:34:16 FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Ship.Ses.Transmitter.Worker.EncounterSyncWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\EncounterSyncWorker.cs:line 61
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
[20:42:59 DBG] Hosting starting
[20:42:59 INF] üöÄ Starting Patient Sync Worker...
[20:43:13 INF] Getting pending records ...
[20:43:13 INF] üöÄ Starting Encounter Sync Worker...
[20:43:13 INF] Getting pending records ...
[20:43:13 INF] üì° SyncMetricsReporter started for client: luth-101
[20:47:34 DBG] Hosting starting
[20:47:35 INF] üöÄ Starting Patient Sync Worker...
[20:47:35 INF] Getting pending records ...
[20:47:35 INF] üöÄ Starting Encounter Sync Worker...
[20:47:35 INF] Getting pending records ...
[20:47:35 INF] üì° SyncMetricsReporter started for client: luth-101
[20:47:35 INF] Got 0 pending records from Encounter...
[20:47:35 INF] Got 0 pending records from Patient...
[20:47:35 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[20:47:35 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 48
[20:47:35 INF] Application started. Press Ctrl+C to shut down.
[20:47:35 INF] Hosting environment: Development
[20:47:35 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[20:47:35 DBG] Hosting started
[20:48:26 INF] Application is shutting down...
[20:48:26 DBG] Hosting stopping
[20:48:26 DBG] Hosting stopped
[20:54:27 DBG] Hosting starting
[20:54:27 INF] üöÄ Starting Patient Sync Worker...
[20:54:27 INF] Getting pending records ...
[20:54:28 INF] üöÄ Starting Encounter Sync Worker...
[20:54:28 INF] Getting pending records ...
[20:54:28 INF] üì° SyncMetricsReporter started for client: luth-101
[20:54:28 INF] Got 0 pending records from Encounter...
[20:54:28 INF] Got 0 pending records from Patient...
[20:54:28 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[20:55:13 DBG] The property 'Address.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
[20:55:13 DBG] The property 'Discount.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[20:55:13 DBG] The property 'Order.TotalAmount#Money.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[20:55:13 DBG] The property 'OrderItem.Price#Money.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
[20:55:13 DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[20:55:13 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[21:00:45 DBG] Hosting starting
[21:00:45 INF] üöÄ Starting Patient Sync Worker...
[21:00:45 INF] Getting pending records ...
[21:00:45 INF] üöÄ Starting Encounter Sync Worker...
[21:00:45 INF] Getting pending records ...
[21:00:45 INF] üì° SyncMetricsReporter started for client: luth-101
[21:00:45 INF] Got 0 pending records from Encounter...
[21:00:45 INF] Got 0 pending records from Patient...
[21:00:45 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:03:23 DBG] Hosting starting
[21:03:23 INF] üöÄ Starting Patient Sync Worker...
[21:03:23 INF] Getting pending records ...
[21:03:23 INF] üöÄ Starting Encounter Sync Worker...
[21:03:23 INF] Getting pending records ...
[21:03:23 INF] üì° SyncMetricsReporter started for client: luth-101
[21:03:23 INF] Got 0 pending records from Patient...
[21:03:23 INF] Got 0 pending records from Encounter...
[21:03:23 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:16:18 DBG] Hosting starting
[21:16:18 INF] üöÄ Starting Patient Sync Worker...
[21:16:18 INF] Getting pending records ...
[21:16:18 INF] üöÄ Starting Encounter Sync Worker...
[21:16:18 INF] Getting pending records ...
[21:16:18 INF] üì° SyncMetricsReporter started for client: luth-101
[21:16:18 INF] Got 0 pending records from Patient...
[21:16:18 INF] Got 0 pending records from Encounter...
[21:16:19 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:18:19 DBG] Hosting starting
[21:18:19 INF] üöÄ Starting Patient Sync Worker...
[21:18:19 INF] Getting pending records ...
[21:18:19 INF] üöÄ Starting Encounter Sync Worker...
[21:18:19 INF] Getting pending records ...
[21:18:19 INF] üì° SyncMetricsReporter started for client: luth-101
[21:18:19 INF] Got 0 pending records from Patient...
[21:18:19 INF] Got 0 pending records from Encounter...
[21:18:19 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:27:55 DBG] Hosting starting
[21:27:55 INF] üöÄ Starting Patient Sync Worker...
[21:27:55 INF] Getting pending records ...
[21:27:55 INF] üöÄ Starting Encounter Sync Worker...
[21:27:55 INF] Getting pending records ...
[21:27:55 INF] üì° SyncMetricsReporter started for client: luth-101
[21:27:55 INF] Got 0 pending records from Patient...
[21:27:55 INF] Got 0 pending records from Encounter...
[21:27:55 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:27:55 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:27:55 INF] Application started. Press Ctrl+C to shut down.
[21:27:55 INF] Hosting environment: Development
[21:27:55 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[21:27:55 DBG] Hosting started
[21:28:55 INF] Getting pending records ...
[21:28:55 INF] Getting pending records ...
[21:28:55 INF] Got 0 pending records from Patient...
[21:28:55 INF] Got 0 pending records from Encounter...
[21:29:55 INF] Getting pending records ...
[21:29:55 INF] Getting pending records ...
[21:29:55 INF] Got 0 pending records from Patient...
[21:29:55 INF] Got 0 pending records from Encounter...
[21:29:55 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:30:55 INF] Getting pending records ...
[21:30:55 INF] Getting pending records ...
[21:30:55 INF] Got 0 pending records from Patient...
[21:30:55 INF] Got 0 pending records from Encounter...
[21:31:02 INF] Application is shutting down...
[21:31:02 DBG] Hosting stopping
[21:31:02 DBG] Hosting stopped
[21:31:21 DBG] Hosting starting
[21:31:21 INF] üöÄ Starting Patient Sync Worker...
[21:31:21 INF] Getting pending records ...
[21:31:21 INF] üöÄ Starting Encounter Sync Worker...
[21:31:21 INF] Getting pending records ...
[21:31:21 INF] üì° SyncMetricsReporter started for client: luth-101
[21:31:21 INF] Got 0 pending records from Encounter...
[21:31:21 INF] Got 0 pending records from Patient...
[21:31:21 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:31:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:31:21 INF] Application started. Press Ctrl+C to shut down.
[21:31:21 INF] Hosting environment: Development
[21:31:21 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[21:31:21 DBG] Hosting started
[21:32:21 INF] Getting pending records ...
[21:32:21 INF] Getting pending records ...
[21:32:21 INF] Got 0 pending records from Encounter...
[21:32:21 INF] Got 0 pending records from Patient...
[21:33:21 INF] Getting pending records ...
[21:33:21 INF] Getting pending records ...
[21:33:21 INF] Got 0 pending records from Patient...
[21:33:21 INF] Got 0 pending records from Encounter...
[21:33:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:34:21 INF] Getting pending records ...
[21:34:21 INF] Getting pending records ...
[21:34:21 INF] Got 0 pending records from Patient...
[21:34:21 INF] Got 0 pending records from Encounter...
[21:35:21 INF] Getting pending records ...
[21:35:21 INF] Getting pending records ...
[21:35:21 INF] Got 0 pending records from Encounter...
[21:35:21 INF] Got 0 pending records from Patient...
[21:35:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:36:21 INF] Getting pending records ...
[21:36:21 INF] Getting pending records ...
[21:36:21 INF] Got 0 pending records from Encounter...
[21:36:21 INF] Got 0 pending records from Patient...
[21:37:21 INF] Getting pending records ...
[21:37:21 INF] Getting pending records ...
[21:37:21 INF] Got 0 pending records from Encounter...
[21:37:21 INF] Got 0 pending records from Patient...
[21:37:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:38:21 INF] Getting pending records ...
[21:38:21 INF] Getting pending records ...
[21:38:21 INF] Got 0 pending records from Encounter...
[21:38:21 INF] Got 0 pending records from Patient...
[21:39:21 INF] Getting pending records ...
[21:39:21 INF] Getting pending records ...
[21:39:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:39:21 INF] Got 0 pending records from Patient...
[21:39:21 INF] Got 0 pending records from Encounter...
[21:40:21 INF] Getting pending records ...
[21:40:21 INF] Getting pending records ...
[21:40:21 INF] Got 0 pending records from Encounter...
[21:40:21 INF] Got 0 pending records from Patient...
[21:41:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:41:21 INF] Getting pending records ...
[21:41:21 INF] Getting pending records ...
[21:41:21 INF] Got 0 pending records from Patient...
[21:41:21 INF] Got 0 pending records from Encounter...
[21:42:21 INF] Getting pending records ...
[21:42:21 INF] Getting pending records ...
[21:42:21 INF] Got 0 pending records from Encounter...
[21:42:21 INF] Got 0 pending records from Patient...
[21:43:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:43:21 INF] Getting pending records ...
[21:43:21 INF] Getting pending records ...
[21:43:21 INF] Got 0 pending records from Patient...
[21:43:21 INF] Got 0 pending records from Encounter...
[21:44:21 INF] Getting pending records ...
[21:44:21 INF] Getting pending records ...
[21:44:21 INF] Got 0 pending records from Encounter...
[21:44:21 INF] Got 0 pending records from Patient...
[21:45:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:45:21 INF] Getting pending records ...
[21:45:21 INF] Getting pending records ...
[21:45:21 INF] Got 0 pending records from Encounter...
[21:45:21 INF] Got 0 pending records from Patient...
[21:46:21 INF] Getting pending records ...
[21:46:21 INF] Getting pending records ...
[21:46:21 INF] Got 0 pending records from Patient...
[21:46:21 INF] Got 0 pending records from Encounter...
[21:47:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:47:21 INF] Getting pending records ...
[21:47:21 INF] Getting pending records ...
[21:47:21 INF] Got 0 pending records from Encounter...
[21:47:21 INF] Got 0 pending records from Patient...
[21:48:21 INF] Getting pending records ...
[21:48:21 INF] Getting pending records ...
[21:48:21 INF] Got 0 pending records from Patient...
[21:48:21 INF] Got 0 pending records from Encounter...
[21:49:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:49:21 INF] Getting pending records ...
[21:49:21 INF] Getting pending records ...
[21:49:21 INF] Got 0 pending records from Encounter...
[21:49:21 INF] Got 0 pending records from Patient...
[21:50:21 INF] Getting pending records ...
[21:50:21 INF] Getting pending records ...
[21:50:21 INF] Got 0 pending records from Patient...
[21:50:21 INF] Got 0 pending records from Encounter...
[21:51:21 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:51:21 INF] Getting pending records ...
[21:51:21 INF] Getting pending records ...
[21:51:21 INF] Got 0 pending records from Encounter...
[21:51:21 INF] Got 0 pending records from Patient...
[21:52:21 INF] Getting pending records ...
[21:52:21 INF] Getting pending records ...
[21:52:21 INF] Got 0 pending records from Patient...
[21:52:21 INF] Got 0 pending records from Encounter...
[21:53:18 INF] Application is shutting down...
[21:53:18 DBG] Hosting stopping
[21:53:18 DBG] Hosting stopped
[21:53:45 DBG] Hosting starting
[21:53:45 INF] üöÄ Starting Patient Sync Worker...
[21:53:46 INF] Getting pending records ...
[21:53:46 INF] üöÄ Starting Encounter Sync Worker...
[21:53:46 INF] Getting pending records ...
[21:53:46 INF] üì° SyncMetricsReporter started for client: luth-101
[21:53:46 INF] Got 0 pending records from Encounter...
[21:53:46 INF] Got 0 pending records from Patient...
[21:53:46 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:53:46 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:53:46 INF] Application started. Press Ctrl+C to shut down.
[21:53:46 INF] Hosting environment: Development
[21:53:46 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[21:53:46 DBG] Hosting started
[21:54:46 INF] Getting pending records ...
[21:54:46 INF] Getting pending records ...
[21:54:46 INF] Got 0 pending records from Patient...
[21:54:46 INF] Got 0 pending records from Encounter...
[21:55:04 INF] Application is shutting down...
[21:55:04 DBG] Hosting stopping
[21:55:04 DBG] Hosting stopped
[21:55:11 DBG] Hosting starting
[21:55:11 INF] üöÄ Starting Patient Sync Worker...
[21:55:12 INF] Getting pending records ...
[21:55:12 INF] üöÄ Starting Encounter Sync Worker...
[21:55:12 INF] Getting pending records ...
[21:55:12 INF] üì° SyncMetricsReporter started for client: luth-101
[21:55:12 INF] Got 0 pending records from Encounter...
[21:55:12 INF] Got 0 pending records from Patient...
[21:55:12 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:55:50 DBG] Hosting starting
[21:55:50 INF] üöÄ Starting Patient Sync Worker...
[21:55:50 INF] Getting pending records ...
[21:55:50 INF] üöÄ Starting Encounter Sync Worker...
[21:55:50 INF] Getting pending records ...
[21:55:50 INF] üì° SyncMetricsReporter started for client: luth-101
[21:55:50 INF] Got 0 pending records from Patient...
[21:55:50 INF] Got 0 pending records from Encounter...
[21:55:51 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:59:37 DBG] Hosting starting
[21:59:37 INF] üöÄ Starting Patient Sync Worker...
[21:59:37 INF] Getting pending records ...
[21:59:37 INF] üöÄ Starting Encounter Sync Worker...
[21:59:38 INF] Getting pending records ...
[21:59:38 INF] üì° SyncMetricsReporter started for client: luth-101
[21:59:38 INF] Got 0 pending records from Encounter...
[21:59:38 INF] Got 0 pending records from Patient...
[21:59:38 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[21:59:38 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[21:59:38 INF] Application started. Press Ctrl+C to shut down.
[21:59:38 INF] Hosting environment: Development
[21:59:38 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[21:59:38 DBG] Hosting started
[22:00:38 INF] Getting pending records ...
[22:00:38 INF] Getting pending records ...
[22:00:38 INF] Got 0 pending records from Patient...
[22:00:38 INF] Got 0 pending records from Encounter...
[22:01:38 INF] Getting pending records ...
[22:01:38 INF] Getting pending records ...
[22:01:38 INF] Got 0 pending records from Encounter...
[22:01:38 INF] Got 0 pending records from Patient...
[22:01:38 ERR] ‚ùå Failed to write sync metrics
System.NullReferenceException: Object reference not set to an instance of an object.
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:02:38 INF] Getting pending records ...
[22:02:38 INF] Getting pending records ...
[22:02:38 INF] Got 0 pending records from Encounter...
[22:02:38 INF] Got 0 pending records from Patient...
[22:02:41 INF] Application is shutting down...
[22:02:41 DBG] Hosting stopping
[22:02:41 DBG] Hosting stopped
[22:02:55 DBG] Hosting starting
[22:02:55 INF] üöÄ Starting Patient Sync Worker...
[22:02:55 INF] Getting pending records ...
[22:02:55 INF] üöÄ Starting Encounter Sync Worker...
[22:02:55 INF] Getting pending records ...
[22:02:55 INF] üì° SyncMetricsReporter started for client: luth-101
[22:02:55 INF] Got 0 pending records from Patient...
[22:02:55 INF] Got 0 pending records from Encounter...
[22:02:55 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[22:02:56 DBG] The property 'Address.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:02:56 DBG] The property 'Discount.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:02:56 DBG] The property 'Order.TotalAmount#Money.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:02:56 DBG] The property 'OrderItem.Price#Money.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:02:56 DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:02:56 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:02:56 DBG] Compiling query expression: 
'DbSet<SyncClientStatus>()
    .AsTracking()
    .FirstOrDefault(x => x.ClientId == __status_ClientId_0)'
[22:02:57 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SyncClientStatus>(
    asyncEnumerable: SingleQueryingEnumerable.Create<SyncClientStatus>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            SyncClientStatus entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                SyncClientStatus instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(SyncClientStatus);
                entry1 = queryContext.TryGetEntry(
                    key: Key: SyncClientStatus.ClientId PK, 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (SyncClientStatus)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = Snapshot;
                    entityType1 = EntityType: SyncClientStatus;
                    instance1 = switch (entityType1)
                    {
                        case EntityType: SyncClientStatus: 
                            {
                                return 
                                {
                                    SyncClientStatus instance;
                                    instance = new SyncClientStatus();
                                    instance.<ClientId>k__BackingField = dataReader.GetString(0);
                                    instance.<CurrentBatchId>k__BackingField = dataReader.GetString(1);
                                    instance.<Hostname>k__BackingField = dataReader.GetString(2);
                                    instance.<IpAddress>k__BackingField = dataReader.GetString(3);
                                    instance.<LastCheckIn>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<LastError>k__BackingField = dataReader.GetString(5);
                                    instance.<LastSyncedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<SignatureHash>k__BackingField = dataReader.GetString(7);
                                    instance.<Status>k__BackingField = dataReader.GetString(8);
                                    instance.<TotalFailed>k__BackingField = dataReader.GetInt32(9);
                                    instance.<TotalSynced>k__BackingField = dataReader.GetInt32(10);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(11);
                                    instance.<Version>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: EntityType: SyncClientStatus) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(SyncClientStatus)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
[22:02:57 DBG] Creating DbConnection.
[22:02:57 DBG] Created DbConnection. (4ms).
[22:02:57 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:57 INF] Application started. Press Ctrl+C to shut down.
[22:02:57 INF] Hosting environment: Development
[22:02:57 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[22:02:57 DBG] Hosting started
[22:02:57 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:57 DBG] Creating DbCommand for 'ExecuteReader'.
[22:02:57 DBG] Created DbCommand for 'ExecuteReader' (4ms).
[22:02:57 DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
[22:02:57 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:02:57 INF] Executed DbCommand (33ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:02:58 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 9ms reading results.
[22:02:58 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (2ms).
[22:02:58 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[22:02:58 DBG] SaveChanges starting for 'AppDbContext'.
[22:02:58 DBG] DetectChanges starting for 'AppDbContext'.
[22:02:58 DBG] DetectChanges completed for 'AppDbContext'.
[22:02:58 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Beginning transaction with isolation level 'Unspecified'.
[22:02:58 DBG] Began transaction with isolation level 'Unspecified'.
[22:02:58 DBG] Creating DbCommand for 'ExecuteReader'.
[22:02:58 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:02:58 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[22:02:58 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_status` (`client_id`, `current_batch_id`, `hostname`, `ip_address`, `last_check_in`, `last_error`, `last_synced_at`, `signature_hash`, `status`, `total_failed`, `total_synced`, `updated_at`, `version`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[22:02:58 INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_status` (`client_id`, `current_batch_id`, `hostname`, `ip_address`, `last_check_in`, `last_error`, `last_synced_at`, `signature_hash`, `status`, `total_failed`, `total_synced`, `updated_at`, `version`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[22:02:58 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 5ms reading results.
[22:02:58 DBG] Committing transaction.
[22:02:58 DBG] Committed transaction.
[22:02:58 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:02:58 DBG] Disposing transaction.
[22:02:58 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[22:02:58 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[22:02:58 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[22:02:58 DBG] SaveChanges starting for 'AppDbContext'.
[22:02:58 DBG] DetectChanges starting for 'AppDbContext'.
[22:02:58 DBG] DetectChanges completed for 'AppDbContext'.
[22:02:58 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Beginning transaction with isolation level 'Unspecified'.
[22:02:58 DBG] Began transaction with isolation level 'Unspecified'.
[22:02:58 DBG] Creating DbCommand for 'ExecuteReader'.
[22:02:58 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:02:58 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:02:58 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[22:02:58 INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[22:02:58 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[22:02:58 DBG] Committing transaction.
[22:02:58 DBG] Committed transaction.
[22:02:58 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:02:58 DBG] Disposing transaction.
[22:02:58 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[22:02:58 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[22:02:58 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[22:02:58 DBG] SaveChanges starting for 'AppDbContext'.
[22:02:58 DBG] DetectChanges starting for 'AppDbContext'.
[22:02:58 DBG] DetectChanges completed for 'AppDbContext'.
[22:02:58 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Beginning transaction with isolation level 'Unspecified'.
[22:02:58 DBG] Began transaction with isolation level 'Unspecified'.
[22:02:58 DBG] Creating DbCommand for 'ExecuteReader'.
[22:02:58 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:02:58 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:02:58 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[22:02:58 INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[22:02:58 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[22:02:58 DBG] Committing transaction.
[22:02:58 DBG] Committed transaction.
[22:02:58 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:02:58 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:02:58 DBG] Disposing transaction.
[22:02:58 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[22:02:58 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[22:02:58 INF] ‚úÖ Sync metrics written for luth-101
[22:03:55 INF] Getting pending records ...
[22:03:55 INF] Getting pending records ...
[22:03:55 INF] Got 0 pending records from Patient...
[22:03:55 INF] Got 0 pending records from Encounter...
[22:04:55 INF] Getting pending records ...
[22:04:55 INF] Getting pending records ...
[22:04:55 INF] Got 0 pending records from Encounter...
[22:04:55 INF] Got 0 pending records from Patient...
[22:04:58 DBG] 'AppDbContext' disposed.
[22:04:58 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:04:58 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (1ms).
[22:04:58 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:04:58 DBG] Creating DbConnection.
[22:04:58 DBG] Created DbConnection. (0ms).
[22:04:58 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:04:58 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:04:58 DBG] Creating DbCommand for 'ExecuteReader'.
[22:04:58 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:04:58 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:04:58 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:04:58 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:04:58 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:04:58 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:04:58 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 25ms reading results.
[22:04:58 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:04:58 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:04:58 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:05:55 INF] Getting pending records ...
[22:05:55 INF] Getting pending records ...
[22:05:55 INF] Got 0 pending records from Patient...
[22:05:55 INF] Got 0 pending records from Encounter...
[22:06:55 INF] Getting pending records ...
[22:06:55 INF] Getting pending records ...
[22:06:55 INF] Got 0 pending records from Patient...
[22:06:55 INF] Got 0 pending records from Encounter...
[22:06:58 DBG] 'AppDbContext' disposed.
[22:06:58 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:06:58 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:06:58 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:06:58 DBG] Creating DbConnection.
[22:06:58 DBG] Created DbConnection. (0ms).
[22:06:58 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:06:58 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:06:58 DBG] Creating DbCommand for 'ExecuteReader'.
[22:06:58 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:06:58 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:06:58 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:06:58 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:06:58 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:06:58 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:06:58 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:06:58 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:06:58 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:06:58 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:07:55 INF] Getting pending records ...
[22:07:55 INF] Getting pending records ...
[22:07:55 INF] Got 0 pending records from Patient...
[22:07:55 INF] Got 0 pending records from Encounter...
[22:08:55 INF] Getting pending records ...
[22:08:55 INF] Getting pending records ...
[22:08:55 INF] Got 0 pending records from Patient...
[22:08:55 INF] Got 0 pending records from Encounter...
[22:08:58 DBG] 'AppDbContext' disposed.
[22:08:58 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:08:58 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:08:58 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:08:58 DBG] Creating DbConnection.
[22:08:58 DBG] Created DbConnection. (0ms).
[22:08:58 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:08:58 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:08:58 DBG] Creating DbCommand for 'ExecuteReader'.
[22:08:58 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:08:58 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:08:58 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:08:58 INF] Executed DbCommand (20ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:08:58 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:08:58 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:08:58 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 3ms reading results.
[22:08:58 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:08:58 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:08:58 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:09:55 INF] Getting pending records ...
[22:09:55 INF] Getting pending records ...
[22:09:55 INF] Got 0 pending records from Patient...
[22:09:55 INF] Got 0 pending records from Encounter...
[22:10:55 INF] Getting pending records ...
[22:10:55 INF] Getting pending records ...
[22:10:55 INF] Got 0 pending records from Encounter...
[22:10:55 INF] Got 0 pending records from Patient...
[22:10:58 DBG] 'AppDbContext' disposed.
[22:10:58 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:10:58 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:10:58 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:10:58 DBG] Creating DbConnection.
[22:10:58 DBG] Created DbConnection. (0ms).
[22:10:58 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:10:58 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:10:58 DBG] Creating DbCommand for 'ExecuteReader'.
[22:10:58 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:10:58 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:10:59 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:10:59 INF] Executed DbCommand (17ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:10:59 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:10:59 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:10:59 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:10:59 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:10:59 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:10:59 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:11:55 INF] Getting pending records ...
[22:11:55 INF] Getting pending records ...
[22:11:55 INF] Got 0 pending records from Encounter...
[22:11:55 INF] Got 0 pending records from Patient...
[22:12:55 INF] Getting pending records ...
[22:12:55 INF] Getting pending records ...
[22:12:55 INF] Got 0 pending records from Patient...
[22:12:55 INF] Got 0 pending records from Encounter...
[22:12:59 DBG] 'AppDbContext' disposed.
[22:12:59 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:12:59 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:12:59 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:12:59 DBG] Creating DbConnection.
[22:12:59 DBG] Created DbConnection. (0ms).
[22:12:59 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:12:59 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:12:59 DBG] Creating DbCommand for 'ExecuteReader'.
[22:12:59 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:12:59 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:12:59 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:12:59 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:12:59 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:12:59 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:12:59 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 2ms reading results.
[22:12:59 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:12:59 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:12:59 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:13:55 INF] Getting pending records ...
[22:13:55 INF] Getting pending records ...
[22:13:55 INF] Got 0 pending records from Patient...
[22:13:55 INF] Got 0 pending records from Encounter...
[22:14:55 INF] Getting pending records ...
[22:14:55 INF] Getting pending records ...
[22:14:55 INF] Got 0 pending records from Patient...
[22:14:55 INF] Got 0 pending records from Encounter...
[22:14:59 DBG] 'AppDbContext' disposed.
[22:14:59 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:14:59 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:14:59 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:14:59 DBG] Creating DbConnection.
[22:14:59 DBG] Created DbConnection. (0ms).
[22:14:59 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:14:59 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:14:59 DBG] Creating DbCommand for 'ExecuteReader'.
[22:14:59 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:14:59 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:14:59 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:14:59 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:14:59 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:14:59 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:14:59 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:14:59 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:14:59 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:14:59 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:15:55 INF] Getting pending records ...
[22:15:55 INF] Getting pending records ...
[22:15:55 INF] Got 0 pending records from Patient...
[22:15:55 INF] Got 0 pending records from Encounter...
[22:16:55 INF] Getting pending records ...
[22:16:55 INF] Getting pending records ...
[22:16:55 INF] Got 0 pending records from Encounter...
[22:16:55 INF] Got 0 pending records from Patient...
[22:16:59 DBG] 'AppDbContext' disposed.
[22:16:59 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:16:59 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:16:59 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:16:59 DBG] Creating DbConnection.
[22:16:59 DBG] Created DbConnection. (0ms).
[22:16:59 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:16:59 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:16:59 DBG] Creating DbCommand for 'ExecuteReader'.
[22:16:59 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:16:59 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:16:59 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:16:59 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:16:59 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:16:59 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:16:59 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:16:59 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:16:59 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:16:59 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 52
[22:17:55 INF] Getting pending records ...
[22:17:55 INF] Getting pending records ...
[22:17:55 INF] Got 0 pending records from Patient...
[22:17:55 INF] Got 0 pending records from Encounter...
[22:28:29 INF] Application is shutting down...
[22:28:29 DBG] Hosting stopping
[22:28:29 DBG] 'AppDbContext' disposed.
[22:28:29 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:28:29 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:28:29 DBG] Hosting stopped
[22:30:03 DBG] Hosting starting
[22:30:03 INF] üöÄ Starting Patient Sync Worker...
[22:30:03 INF] Getting pending records ...
[22:30:04 INF] üöÄ Starting Encounter Sync Worker...
[22:30:04 INF] Getting pending records ...
[22:30:04 INF] üì° SyncMetricsReporter started for client: luth-101
[22:30:04 INF] Got 0 pending records from Patient...
[22:30:04 INF] Got 0 pending records from Encounter...
[22:30:04 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[22:30:04 INF] Write sync status: Ship.Ses.Transmitter.Domain.SyncClientStatus
[22:30:05 DBG] The property 'Address.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:30:05 DBG] The property 'Discount.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:30:05 DBG] The property 'Order.TotalAmount#Money.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:30:05 DBG] The property 'OrderItem.Price#Money.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:30:05 DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:30:05 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:30:05 DBG] Compiling query expression: 
'DbSet<SyncClientStatus>()
    .AsTracking()
    .FirstOrDefault(x => x.ClientId == __status_ClientId_0)'
[22:30:05 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SyncClientStatus>(
    asyncEnumerable: SingleQueryingEnumerable.Create<SyncClientStatus>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            SyncClientStatus entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                SyncClientStatus instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(SyncClientStatus);
                entry1 = queryContext.TryGetEntry(
                    key: Key: SyncClientStatus.ClientId PK, 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (SyncClientStatus)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = Snapshot;
                    entityType1 = EntityType: SyncClientStatus;
                    instance1 = switch (entityType1)
                    {
                        case EntityType: SyncClientStatus: 
                            {
                                return 
                                {
                                    SyncClientStatus instance;
                                    instance = new SyncClientStatus();
                                    instance.<ClientId>k__BackingField = dataReader.GetString(0);
                                    instance.<CurrentBatchId>k__BackingField = dataReader.GetString(1);
                                    instance.<Hostname>k__BackingField = dataReader.GetString(2);
                                    instance.<IpAddress>k__BackingField = dataReader.GetString(3);
                                    instance.<LastCheckIn>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<LastError>k__BackingField = dataReader.GetString(5);
                                    instance.<LastSyncedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<SignatureHash>k__BackingField = dataReader.GetString(7);
                                    instance.<Status>k__BackingField = dataReader.GetString(8);
                                    instance.<TotalFailed>k__BackingField = dataReader.GetInt32(9);
                                    instance.<TotalSynced>k__BackingField = dataReader.GetInt32(10);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(11);
                                    instance.<Version>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: EntityType: SyncClientStatus) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(SyncClientStatus)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
[22:30:05 DBG] Creating DbConnection.
[22:30:05 DBG] Created DbConnection. (3ms).
[22:30:05 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:30:05 INF] Application started. Press Ctrl+C to shut down.
[22:30:05 INF] Hosting environment: Development
[22:30:05 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[22:30:05 DBG] Hosting started
[22:30:05 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:30:06 DBG] Creating DbCommand for 'ExecuteReader'.
[22:30:06 DBG] Created DbCommand for 'ExecuteReader' (7ms).
[22:30:06 DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
[22:30:06 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:30:06 INF] Executed DbCommand (27ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:30:06 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:30:06 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:30:06 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 17ms reading results.
[22:30:06 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:30:06 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (2ms).
[22:30:06 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 53
[22:31:04 INF] Getting pending records ...
[22:31:04 INF] Getting pending records ...
[22:31:04 INF] Got 0 pending records from Encounter...
[22:31:04 INF] Got 0 pending records from Patient...
[22:32:04 INF] Getting pending records ...
[22:32:04 INF] Getting pending records ...
[22:32:04 INF] Got 0 pending records from Patient...
[22:32:04 INF] Got 0 pending records from Encounter...
[22:32:06 DBG] 'AppDbContext' disposed.
[22:32:06 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:32:06 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:32:06 INF] Write sync status: Ship.Ses.Transmitter.Domain.SyncClientStatus
[22:32:06 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:32:06 DBG] Creating DbConnection.
[22:32:06 DBG] Created DbConnection. (0ms).
[22:32:06 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:32:06 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:32:06 DBG] Creating DbCommand for 'ExecuteReader'.
[22:32:06 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:32:06 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:32:06 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:32:06 INF] Executed DbCommand (17ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:32:06 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:32:06 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:32:06 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 2ms reading results.
[22:32:06 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:32:06 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:32:06 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 53
[22:32:24 INF] Application is shutting down...
[22:32:24 DBG] Hosting stopping
[22:32:24 DBG] 'AppDbContext' disposed.
[22:32:24 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:32:24 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:32:24 DBG] Hosting stopped
[22:33:45 DBG] Hosting starting
[22:33:45 INF] üöÄ Starting Patient Sync Worker...
[22:33:45 INF] Getting pending records ...
[22:33:45 INF] üöÄ Starting Encounter Sync Worker...
[22:33:45 INF] Getting pending records ...
[22:33:45 INF] üì° SyncMetricsReporter started for client: luth-101
[22:33:45 INF] Got 0 pending records from Patient...
[22:33:45 INF] Got 0 pending records from Encounter...
[22:33:45 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[22:33:45 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:33:45.7553413Z","LastSyncedAt":"2025-03-26T22:33:45.7553621Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"0258da98-8e67-42ae-94f0-f48f34aa6f18","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"7d54eeda-a003-4ba6-96f1-cf83ba08d7fc","UpdatedAt":"2025-03-26T22:33:45.7582204Z"}
[22:33:46 DBG] The property 'Address.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:33:46 DBG] The property 'Discount.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:33:46 DBG] The property 'Order.TotalAmount#Money.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:33:46 DBG] The property 'OrderItem.Price#Money.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:33:46 DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:33:46 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:33:46 DBG] Compiling query expression: 
'DbSet<SyncClientStatus>()
    .AsTracking()
    .FirstOrDefault(x => x.ClientId == __status_ClientId_0)'
[22:33:46 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SyncClientStatus>(
    asyncEnumerable: SingleQueryingEnumerable.Create<SyncClientStatus>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            SyncClientStatus entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                SyncClientStatus instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(SyncClientStatus);
                entry1 = queryContext.TryGetEntry(
                    key: Key: SyncClientStatus.ClientId PK, 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (SyncClientStatus)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = Snapshot;
                    entityType1 = EntityType: SyncClientStatus;
                    instance1 = switch (entityType1)
                    {
                        case EntityType: SyncClientStatus: 
                            {
                                return 
                                {
                                    SyncClientStatus instance;
                                    instance = new SyncClientStatus();
                                    instance.<ClientId>k__BackingField = dataReader.GetString(0);
                                    instance.<CurrentBatchId>k__BackingField = dataReader.GetString(1);
                                    instance.<Hostname>k__BackingField = dataReader.GetString(2);
                                    instance.<IpAddress>k__BackingField = dataReader.GetString(3);
                                    instance.<LastCheckIn>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<LastError>k__BackingField = dataReader.GetString(5);
                                    instance.<LastSyncedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<SignatureHash>k__BackingField = dataReader.GetString(7);
                                    instance.<Status>k__BackingField = dataReader.GetString(8);
                                    instance.<TotalFailed>k__BackingField = dataReader.GetInt32(9);
                                    instance.<TotalSynced>k__BackingField = dataReader.GetInt32(10);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(11);
                                    instance.<Version>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: EntityType: SyncClientStatus) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(SyncClientStatus)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
[22:33:46 DBG] Creating DbConnection.
[22:33:46 DBG] Created DbConnection. (4ms).
[22:33:46 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:33:46 INF] Application started. Press Ctrl+C to shut down.
[22:33:46 INF] Hosting environment: Development
[22:33:46 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[22:33:46 DBG] Hosting started
[22:33:46 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:33:46 DBG] Creating DbCommand for 'ExecuteReader'.
[22:33:46 DBG] Created DbCommand for 'ExecuteReader' (5ms).
[22:33:46 DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
[22:33:46 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:33:46 INF] Executed DbCommand (25ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:33:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:33:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:33:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 30ms reading results.
[22:33:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:33:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (3ms).
[22:33:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:34:45 INF] Getting pending records ...
[22:34:45 INF] Getting pending records ...
[22:34:45 INF] Got 0 pending records from Encounter...
[22:34:45 INF] Got 0 pending records from Patient...
[22:35:45 INF] Getting pending records ...
[22:35:45 INF] Getting pending records ...
[22:35:45 INF] Got 0 pending records from Encounter...
[22:35:45 INF] Got 0 pending records from Patient...
[22:35:47 DBG] 'AppDbContext' disposed.
[22:35:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:35:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:35:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:35:47.0800299Z","LastSyncedAt":"2025-03-26T22:35:47.08003Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"4bd00cc7-bfec-46e1-b64a-5e957929bb41","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"926022f2-3721-4240-bbc5-c409fd29efd6","UpdatedAt":"2025-03-26T22:35:47.0807175Z"}
[22:35:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:35:47 DBG] Creating DbConnection.
[22:35:47 DBG] Created DbConnection. (0ms).
[22:35:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:35:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:35:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:35:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:35:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:35:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:35:47 INF] Executed DbCommand (16ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:35:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:35:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:35:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:35:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:35:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:35:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:36:45 INF] Getting pending records ...
[22:36:45 INF] Getting pending records ...
[22:36:45 INF] Got 0 pending records from Patient...
[22:36:45 INF] Got 0 pending records from Encounter...
[22:37:45 INF] Getting pending records ...
[22:37:45 INF] Getting pending records ...
[22:37:45 INF] Got 0 pending records from Encounter...
[22:37:45 INF] Got 0 pending records from Patient...
[22:37:47 DBG] 'AppDbContext' disposed.
[22:37:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:37:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:37:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:37:47.1698771Z","LastSyncedAt":"2025-03-26T22:37:47.1698774Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"39872c47-3b4f-4a1c-b658-83ee58d5c87a","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"1095b54e-d316-4497-a7c6-a2edcc3f60c0","UpdatedAt":"2025-03-26T22:37:47.1704177Z"}
[22:37:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:37:47 DBG] Creating DbConnection.
[22:37:47 DBG] Created DbConnection. (0ms).
[22:37:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:37:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:37:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:37:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:37:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:37:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:37:47 INF] Executed DbCommand (16ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:37:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:37:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:37:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:37:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:37:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:37:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:38:45 INF] Getting pending records ...
[22:38:45 INF] Getting pending records ...
[22:38:45 INF] Got 0 pending records from Patient...
[22:38:45 INF] Got 0 pending records from Encounter...
[22:39:45 INF] Getting pending records ...
[22:39:45 INF] Getting pending records ...
[22:39:45 INF] Got 0 pending records from Patient...
[22:39:45 INF] Got 0 pending records from Encounter...
[22:39:47 DBG] 'AppDbContext' disposed.
[22:39:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:39:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:39:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:39:47.3116995Z","LastSyncedAt":"2025-03-26T22:39:47.3116998Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"7a704b2e-0cf4-42b3-bada-f0263c6f07f1","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"b5b93015-bdd1-4b79-9c7f-6f082f60088c","UpdatedAt":"2025-03-26T22:39:47.3132145Z"}
[22:39:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:39:47 DBG] Creating DbConnection.
[22:39:47 DBG] Created DbConnection. (0ms).
[22:39:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:39:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:39:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:39:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:39:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:39:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:39:47 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:39:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:39:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:39:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 2ms reading results.
[22:39:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:39:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:39:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:40:45 INF] Getting pending records ...
[22:40:45 INF] Getting pending records ...
[22:40:45 INF] Got 0 pending records from Encounter...
[22:40:45 INF] Got 0 pending records from Patient...
[22:41:45 INF] Getting pending records ...
[22:41:45 INF] Getting pending records ...
[22:41:45 INF] Got 0 pending records from Encounter...
[22:41:45 INF] Got 0 pending records from Patient...
[22:41:47 DBG] 'AppDbContext' disposed.
[22:41:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:41:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:41:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:41:47.401668Z","LastSyncedAt":"2025-03-26T22:41:47.4016684Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"c59b6edc-9b5d-4d3d-977b-85ecde65ef4b","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"34cd7bbc-9895-4ecf-b61b-93952efae33e","UpdatedAt":"2025-03-26T22:41:47.40291Z"}
[22:41:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:41:47 DBG] Creating DbConnection.
[22:41:47 DBG] Created DbConnection. (0ms).
[22:41:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:41:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:41:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:41:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:41:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:41:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:41:47 INF] Executed DbCommand (18ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:41:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:41:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:41:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:41:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:41:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:41:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:42:45 INF] Getting pending records ...
[22:42:45 INF] Getting pending records ...
[22:42:45 INF] Got 0 pending records from Encounter...
[22:42:45 INF] Got 0 pending records from Patient...
[22:43:45 INF] Getting pending records ...
[22:43:45 INF] Getting pending records ...
[22:43:45 INF] Got 0 pending records from Encounter...
[22:43:45 INF] Got 0 pending records from Patient...
[22:43:47 DBG] 'AppDbContext' disposed.
[22:43:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:43:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:43:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:43:47.4882448Z","LastSyncedAt":"2025-03-26T22:43:47.488245Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"22c0a969-6dad-4833-8768-c9e2ca0dfa51","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"67a20f82-8edd-4472-befb-4b66c41c8d50","UpdatedAt":"2025-03-26T22:43:47.4893048Z"}
[22:43:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:43:47 DBG] Creating DbConnection.
[22:43:47 DBG] Created DbConnection. (0ms).
[22:43:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:43:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:43:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:43:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:43:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:43:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:43:47 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:43:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:43:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:43:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 3ms reading results.
[22:43:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:43:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:43:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:44:45 INF] Getting pending records ...
[22:44:45 INF] Getting pending records ...
[22:44:45 INF] Got 0 pending records from Encounter...
[22:44:45 INF] Got 0 pending records from Patient...
[22:45:45 INF] Getting pending records ...
[22:45:45 INF] Getting pending records ...
[22:45:45 INF] Got 0 pending records from Encounter...
[22:45:45 INF] Got 0 pending records from Patient...
[22:45:47 DBG] 'AppDbContext' disposed.
[22:45:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:45:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:45:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:45:47.5713945Z","LastSyncedAt":"2025-03-26T22:45:47.5713947Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"cd5f59ba-3bcc-48c8-a0b4-4bdce96ef3b7","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"10faefc4-30d9-4765-8aad-74de900e80d1","UpdatedAt":"2025-03-26T22:45:47.5724909Z"}
[22:45:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:45:47 DBG] Creating DbConnection.
[22:45:47 DBG] Created DbConnection. (0ms).
[22:45:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:45:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:45:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:45:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:45:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:45:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:45:47 INF] Executed DbCommand (17ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:45:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:45:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:45:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:45:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:45:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:45:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:46:45 INF] Getting pending records ...
[22:46:45 INF] Getting pending records ...
[22:46:45 INF] Got 0 pending records from Patient...
[22:46:45 INF] Got 0 pending records from Encounter...
[22:47:45 INF] Getting pending records ...
[22:47:45 INF] Getting pending records ...
[22:47:45 INF] Got 0 pending records from Patient...
[22:47:45 INF] Got 0 pending records from Encounter...
[22:47:47 DBG] 'AppDbContext' disposed.
[22:47:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:47:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:47:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:47:47.650604Z","LastSyncedAt":"2025-03-26T22:47:47.6506044Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"c0a072ba-d567-414b-af6d-f27ff94a3c53","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"b14c6322-21c1-456d-96c8-030548e89ad7","UpdatedAt":"2025-03-26T22:47:47.6518942Z"}
[22:47:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:47:47 DBG] Creating DbConnection.
[22:47:47 DBG] Created DbConnection. (0ms).
[22:47:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:47:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:47:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:47:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:47:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:47:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:47:47 INF] Executed DbCommand (18ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:47:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:47:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:47:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:47:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:47:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:47:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:48:45 INF] Getting pending records ...
[22:48:45 INF] Getting pending records ...
[22:48:45 INF] Got 0 pending records from Patient...
[22:48:45 INF] Got 0 pending records from Encounter...
[22:49:45 INF] Getting pending records ...
[22:49:45 INF] Getting pending records ...
[22:49:45 INF] Got 0 pending records from Encounter...
[22:49:45 INF] Got 0 pending records from Patient...
[22:49:47 DBG] 'AppDbContext' disposed.
[22:49:47 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:49:47 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:49:47 INF] Write sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:49:47.7318214Z","LastSyncedAt":"2025-03-26T22:49:47.7318215Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"cefa0097-2200-4d8d-82f7-633f5eb5a2ea","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"becd252c-a4c6-435f-a2a4-d0b7dc4ac1fd","UpdatedAt":"2025-03-26T22:49:47.7323919Z"}
[22:49:47 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:49:47 DBG] Creating DbConnection.
[22:49:47 DBG] Created DbConnection. (0ms).
[22:49:47 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:49:47 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:49:47 DBG] Creating DbCommand for 'ExecuteReader'.
[22:49:47 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:49:47 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:49:47 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:49:47 INF] Executed DbCommand (17ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:49:47 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:49:47 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:49:47 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:49:47 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:49:47 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:49:47 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 25
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:49:50 INF] Application is shutting down...
[22:49:50 DBG] Hosting stopping
[22:49:50 DBG] 'AppDbContext' disposed.
[22:49:50 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:49:50 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:49:50 DBG] Hosting stopped
[22:50:09 DBG] Hosting starting
[22:50:09 INF] üöÄ Starting Patient Sync Worker...
[22:50:09 INF] Getting pending records ...
[22:50:10 INF] üöÄ Starting Encounter Sync Worker...
[22:50:10 INF] Getting pending records ...
[22:50:10 INF] üì° SyncMetricsReporter started for client: luth-101
[22:50:10 INF] Got 0 pending records from Patient...
[22:50:10 INF] Got 0 pending records from Encounter...
[22:50:10 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[22:50:10 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:50:10.1447806Z","LastSyncedAt":"2025-03-26T22:50:10.1448075Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"f8abb841-f3ec-4350-abeb-2f4f8ad9a2c2","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"61986c67-4618-4b85-8691-a23df898c421","UpdatedAt":"2025-03-26T22:50:10.1476299Z"}
[22:50:10 DBG] üîÑ Upserting status for client: luth-101
[22:50:10 DBG] The property 'Address.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:50:10 DBG] The property 'Discount.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:50:10 DBG] The property 'Order.TotalAmount#Money.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:50:10 DBG] The property 'OrderItem.Price#Money.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:50:10 DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[22:50:10 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:50:10 DBG] Compiling query expression: 
'DbSet<SyncClientStatus>()
    .AsTracking()
    .FirstOrDefault(x => x.ClientId == __status_ClientId_0)'
[22:50:10 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SyncClientStatus>(
    asyncEnumerable: SingleQueryingEnumerable.Create<SyncClientStatus>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string) Required, 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            SyncClientStatus entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                SyncClientStatus instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(SyncClientStatus);
                entry1 = queryContext.TryGetEntry(
                    key: Key: SyncClientStatus.ClientId PK, 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (SyncClientStatus)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = Snapshot;
                    entityType1 = EntityType: SyncClientStatus;
                    instance1 = switch (entityType1)
                    {
                        case EntityType: SyncClientStatus: 
                            {
                                return 
                                {
                                    SyncClientStatus instance;
                                    instance = new SyncClientStatus();
                                    instance.<ClientId>k__BackingField = dataReader.GetString(0);
                                    instance.<CurrentBatchId>k__BackingField = dataReader.GetString(1);
                                    instance.<Hostname>k__BackingField = dataReader.GetString(2);
                                    instance.<IpAddress>k__BackingField = dataReader.GetString(3);
                                    instance.<LastCheckIn>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<LastError>k__BackingField = dataReader.GetString(5);
                                    instance.<LastSyncedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<SignatureHash>k__BackingField = dataReader.GetString(7);
                                    instance.<Status>k__BackingField = dataReader.GetString(8);
                                    instance.<TotalFailed>k__BackingField = dataReader.GetInt32(9);
                                    instance.<TotalSynced>k__BackingField = dataReader.GetInt32(10);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(11);
                                    instance.<Version>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: EntityType: SyncClientStatus) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(SyncClientStatus)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
[22:50:10 DBG] Creating DbConnection.
[22:50:10 DBG] Created DbConnection. (2ms).
[22:50:10 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:50:11 INF] Application started. Press Ctrl+C to shut down.
[22:50:11 INF] Hosting environment: Development
[22:50:11 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[22:50:11 DBG] Hosting started
[22:50:11 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:50:11 DBG] Creating DbCommand for 'ExecuteReader'.
[22:50:11 DBG] Created DbCommand for 'ExecuteReader' (6ms).
[22:50:11 DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
[22:50:11 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:50:11 INF] Executed DbCommand (26ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:50:11 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:50:11 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:50:11 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 33ms reading results.
[22:50:11 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:50:11 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (4ms).
[22:50:11 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 32
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:51:10 INF] Getting pending records ...
[22:51:10 INF] Getting pending records ...
[22:51:10 INF] Got 0 pending records from Patient...
[22:51:10 INF] Got 0 pending records from Encounter...
[22:52:10 INF] Getting pending records ...
[22:52:10 INF] Getting pending records ...
[22:52:10 INF] Got 0 pending records from Patient...
[22:52:10 INF] Got 0 pending records from Encounter...
[22:52:11 DBG] 'AppDbContext' disposed.
[22:52:11 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:52:11 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (2ms).
[22:52:11 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:52:11.6027142Z","LastSyncedAt":"2025-03-26T22:52:11.6027145Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"1dec7ba6-5ab3-42b5-800d-9b56b5082282","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"ec51c417-0b17-49a2-a43c-de0948769180","UpdatedAt":"2025-03-26T22:52:11.6039802Z"}
[22:52:11 DBG] üîÑ Upserting status for client: luth-101
[22:52:11 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:52:11 DBG] Creating DbConnection.
[22:52:11 DBG] Created DbConnection. (0ms).
[22:52:11 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:52:11 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:52:11 DBG] Creating DbCommand for 'ExecuteReader'.
[22:52:11 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:52:11 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[22:52:11 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:52:11 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:52:11 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:52:11 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:52:11 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 3ms reading results.
[22:52:11 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:52:11 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:52:11 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 32
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:53:10 INF] Getting pending records ...
[22:53:10 INF] Getting pending records ...
[22:53:10 INF] Got 0 pending records from Patient...
[22:53:10 INF] Got 0 pending records from Encounter...
[22:54:10 INF] Getting pending records ...
[22:54:10 INF] Getting pending records ...
[22:54:10 INF] Got 0 pending records from Patient...
[22:54:10 INF] Got 0 pending records from Encounter...
[22:54:11 DBG] 'AppDbContext' disposed.
[22:54:11 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:54:11 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:54:11 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:54:11.7485349Z","LastSyncedAt":"2025-03-26T22:54:11.7485354Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"9f18f913-ca14-47be-9a5d-12e655eed1c4","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"456aec3b-5e06-4b11-8181-9b3e8435e828","UpdatedAt":"2025-03-26T22:54:11.7502512Z"}
[22:54:11 DBG] üîÑ Upserting status for client: luth-101
[22:54:11 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:54:11 DBG] Creating DbConnection.
[22:54:11 DBG] Created DbConnection. (0ms).
[22:54:11 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:54:11 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:54:11 DBG] Creating DbCommand for 'ExecuteReader'.
[22:54:11 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:54:11 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:54:11 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:54:11 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:54:11 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:54:11 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:54:11 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:54:11 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:54:11 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:54:11 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 32
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:55:10 INF] Getting pending records ...
[22:55:10 INF] Getting pending records ...
[22:55:10 INF] Got 0 pending records from Patient...
[22:55:10 INF] Got 0 pending records from Encounter...
[22:56:10 INF] Getting pending records ...
[22:56:10 INF] Getting pending records ...
[22:56:10 INF] Got 0 pending records from Patient...
[22:56:10 INF] Got 0 pending records from Encounter...
[22:56:11 DBG] 'AppDbContext' disposed.
[22:56:11 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:56:11 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:56:11 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:56:11.9220069Z","LastSyncedAt":"2025-03-26T22:56:11.9220071Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"acfff00d-31b7-4cb9-951c-67087facd69a","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"224e694c-7106-4b57-a4c6-f22a3eb651e0","UpdatedAt":"2025-03-26T22:56:11.9231576Z"}
[22:56:11 DBG] üîÑ Upserting status for client: luth-101
[22:56:11 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:56:11 DBG] Creating DbConnection.
[22:56:11 DBG] Created DbConnection. (0ms).
[22:56:11 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:56:11 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:56:11 DBG] Creating DbCommand for 'ExecuteReader'.
[22:56:11 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:56:11 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:56:11 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:56:11 INF] Executed DbCommand (17ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:56:11 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:56:11 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:56:11 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[22:56:11 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:56:11 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:56:11 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 32
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:57:10 INF] Getting pending records ...
[22:57:10 INF] Getting pending records ...
[22:57:10 INF] Got 0 pending records from Encounter...
[22:57:10 INF] Got 0 pending records from Patient...
[22:58:10 INF] Getting pending records ...
[22:58:10 INF] Getting pending records ...
[22:58:10 INF] Got 0 pending records from Encounter...
[22:58:10 INF] Got 0 pending records from Patient...
[22:58:11 DBG] 'AppDbContext' disposed.
[22:58:11 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[22:58:11 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:58:12 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T22:58:12.0059099Z","LastSyncedAt":"2025-03-26T22:58:12.0059101Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"513c65ae-313f-4560-92f9-c21e4cf06699","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"5841b90b-eb22-4702-9ed7-7ac81435a5ab","UpdatedAt":"2025-03-26T22:58:12.0068913Z"}
[22:58:12 DBG] üîÑ Upserting status for client: luth-101
[22:58:12 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[22:58:12 DBG] Creating DbConnection.
[22:58:12 DBG] Created DbConnection. (0ms).
[22:58:12 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[22:58:12 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[22:58:12 DBG] Creating DbCommand for 'ExecuteReader'.
[22:58:12 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[22:58:12 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[22:58:12 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:58:12 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[22:58:12 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[22:58:12 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[22:58:12 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 2ms reading results.
[22:58:12 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[22:58:12 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[22:58:12 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 32
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[22:59:10 INF] Getting pending records ...
[22:59:10 INF] Getting pending records ...
[22:59:10 INF] Got 0 pending records from Encounter...
[22:59:10 INF] Got 0 pending records from Patient...
[23:00:10 INF] Getting pending records ...
[23:00:10 INF] Getting pending records ...
[23:00:10 INF] Got 0 pending records from Encounter...
[23:00:10 INF] Got 0 pending records from Patient...
[23:00:12 DBG] 'AppDbContext' disposed.
[23:00:12 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:00:12 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:00:12 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:00:12.0937043Z","LastSyncedAt":"2025-03-26T23:00:12.0937047Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"cf7f76fc-cb8e-4dec-aab8-4f91a72ea5df","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"fc05d1e6-c58a-4eae-8121-f0c4cf198f40","UpdatedAt":"2025-03-26T23:00:12.0955754Z"}
[23:00:12 DBG] üîÑ Upserting status for client: luth-101
[23:00:12 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:00:12 DBG] Creating DbConnection.
[23:00:12 DBG] Created DbConnection. (0ms).
[23:00:12 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:00:12 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:00:12 DBG] Creating DbCommand for 'ExecuteReader'.
[23:00:12 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:00:12 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:00:12 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:00:12 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:00:12 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[23:00:12 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:00:12 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 2ms reading results.
[23:00:12 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:00:12 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:00:12 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 32
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[23:01:10 INF] Getting pending records ...
[23:01:10 INF] Getting pending records ...
[23:01:10 INF] Got 0 pending records from Patient...
[23:01:10 INF] Got 0 pending records from Encounter...
[23:02:10 INF] Getting pending records ...
[23:02:10 INF] Getting pending records ...
[23:02:10 INF] Got 0 pending records from Patient...
[23:02:10 INF] Got 0 pending records from Encounter...
[23:02:12 DBG] 'AppDbContext' disposed.
[23:02:12 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:02:12 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:02:12 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:02:12.1767224Z","LastSyncedAt":"2025-03-26T23:02:12.1767227Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"49bf0475-60a0-4437-a1c9-aa850cbb6688","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"97c1d541-0c23-40f8-a2a2-87f6e35197ec","UpdatedAt":"2025-03-26T23:02:12.1779525Z"}
[23:02:12 DBG] üîÑ Upserting status for client: luth-101
[23:02:12 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:02:12 DBG] Creating DbConnection.
[23:02:12 DBG] Created DbConnection. (0ms).
[23:02:12 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:02:12 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:02:12 DBG] Creating DbCommand for 'ExecuteReader'.
[23:02:12 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:02:12 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:02:12 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:02:12 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:02:12 ERR] An exception occurred while iterating over the results of a query for context type 'Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[23:02:12 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:02:12 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[23:02:12 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:02:12 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:02:12 ERR] ‚ùå Failed to write sync metrics
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at MySql.Data.MySqlClient.MySqlDataReader.GetFieldValue(Int32 index, Boolean checkNull)
   at MySql.Data.MySqlClient.MySqlDataReader.GetString(Int32 i)
   at lambda_method12(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ship.Ses.Transmitter.Infrastructure.Persistance.Sync.MySqlSyncMetricsWriter.WriteStatusAsync(SyncClientStatus status) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Infrastructure\Persistance\Configuration\Domain\Sync\MySqlSyncMetricsWriter.cs:line 32
   at Ship.Ses.Transmitter.Worker.MetricsSyncReporterWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker\MetricsSyncReporterWorker.cs:line 54
[23:03:10 INF] Getting pending records ...
[23:03:10 INF] Getting pending records ...
[23:03:10 INF] Got 0 pending records from Patient...
[23:03:10 INF] Got 0 pending records from Encounter...
[23:04:08 INF] Application is shutting down...
[23:04:08 DBG] Hosting stopping
[23:04:08 DBG] 'AppDbContext' disposed.
[23:04:08 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:08 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:04:08 DBG] Hosting stopped
[23:04:29 DBG] Hosting starting
[23:04:29 INF] üöÄ Starting Patient Sync Worker...
[23:04:29 INF] Getting pending records ...
[23:04:29 INF] üöÄ Starting Encounter Sync Worker...
[23:04:29 INF] Getting pending records ...
[23:04:29 INF] üì° SyncMetricsReporter started for client: luth-101
[23:04:29 INF] Got 0 pending records from Encounter...
[23:04:29 INF] Got 0 pending records from Patient...
[23:04:29 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[23:04:29 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:04:29.6076098Z","LastSyncedAt":"2025-03-26T23:04:29.6076298Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"acdf3604-4917-4976-9792-c2202786b762","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"25109d88-2d0a-4e37-9f13-3902c88c4042","UpdatedAt":"2025-03-26T23:04:29.6104761Z"}
[23:04:29 DBG] üîÑ Upserting status for client: luth-101
[23:04:30 DBG] The property 'Address.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
[23:04:30 DBG] The property 'Discount.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[23:04:30 DBG] The property 'Order.TotalAmount#Money.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[23:04:30 DBG] The property 'OrderItem.Price#Money.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
[23:04:30 DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
[23:04:30 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:04:30 DBG] Compiling query expression: 
'DbSet<SyncClientStatus>()
    .AsTracking()
    .FirstOrDefault(x => x.ClientId == __status_ClientId_0)'
[23:04:30 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SyncClientStatus>(
    asyncEnumerable: SingleQueryingEnumerable.Create<SyncClientStatus>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string), 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SyncClientStatus.ClientId (string) Required PK AfterSave:Throw, 0], [Property: SyncClientStatus.CurrentBatchId (string) Required, 1], [Property: SyncClientStatus.Hostname (string) Required, 2], [Property: SyncClientStatus.IpAddress (string) Required, 3], [Property: SyncClientStatus.LastCheckIn (DateTime?), 4], [Property: SyncClientStatus.LastError (string), 5], [Property: SyncClientStatus.LastSyncedAt (DateTime?), 6], [Property: SyncClientStatus.SignatureHash (string) Required, 7], [Property: SyncClientStatus.Status (string) Required, 8], [Property: SyncClientStatus.TotalFailed (int) Required, 9], [Property: SyncClientStatus.TotalSynced (int) Required, 10], [Property: SyncClientStatus.UpdatedAt (DateTime) Required, 11], [Property: SyncClientStatus.Version (string) Required, 12] }
            SELECT TOP(1) s.client_id, s.current_batch_id, s.hostname, s.ip_address, s.last_check_in, s.last_error, s.last_synced_at, s.signature_hash, s.status, s.total_failed, s.total_synced, s.updated_at, s.version
            FROM ses_sync_client_status AS s
            WHERE s.client_id == @__status_ClientId_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            SyncClientStatus entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                SyncClientStatus instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(SyncClientStatus);
                entry1 = queryContext.TryGetEntry(
                    key: Key: SyncClientStatus.ClientId PK, 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (SyncClientStatus)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = Snapshot;
                    entityType1 = EntityType: SyncClientStatus;
                    instance1 = switch (entityType1)
                    {
                        case EntityType: SyncClientStatus: 
                            {
                                return 
                                {
                                    SyncClientStatus instance;
                                    instance = new SyncClientStatus();
                                    instance.<ClientId>k__BackingField = dataReader.GetString(0);
                                    instance.<CurrentBatchId>k__BackingField = dataReader.GetString(1);
                                    instance.<Hostname>k__BackingField = dataReader.GetString(2);
                                    instance.<IpAddress>k__BackingField = dataReader.GetString(3);
                                    instance.<LastCheckIn>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<LastError>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<LastSyncedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                    instance.<SignatureHash>k__BackingField = dataReader.GetString(7);
                                    instance.<Status>k__BackingField = dataReader.GetString(8);
                                    instance.<TotalFailed>k__BackingField = dataReader.GetInt32(9);
                                    instance.<TotalSynced>k__BackingField = dataReader.GetInt32(10);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(11);
                                    instance.<Version>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: EntityType: SyncClientStatus) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(SyncClientStatus)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Ship.Ses.Transmitter.Infrastructure.Persistance.MySql.AppDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
[23:04:30 DBG] Creating DbConnection.
[23:04:30 DBG] Created DbConnection. (3ms).
[23:04:30 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:30 INF] Application started. Press Ctrl+C to shut down.
[23:04:30 INF] Hosting environment: Development
[23:04:30 INF] Content root path: C:\LaoluOlapegba\source\repos\SeS\SHIP.SesTransmitter\Ship.Ses.Transmitter\src\Ship.Ses.Transmitter.Service\Ship.Ses.Transmitter.Worker
[23:04:30 DBG] Hosting started
[23:04:30 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:30 DBG] Creating DbCommand for 'ExecuteReader'.
[23:04:30 DBG] Created DbCommand for 'ExecuteReader' (6ms).
[23:04:30 DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
[23:04:30 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:04:30 INF] Executed DbCommand (27ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:04:30 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:04:30 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:04:30 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 56ms reading results.
[23:04:30 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:30 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (6ms).
[23:04:30 DBG] üìù Updating existing status record.
[23:04:30 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:04:30 DBG] SaveChanges starting for 'AppDbContext'.
[23:04:30 DBG] DetectChanges starting for 'AppDbContext'.
[23:04:30 DBG] DetectChanges completed for 'AppDbContext'.
[23:04:31 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Creating DbCommand for 'ExecuteReader'.
[23:04:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:04:31 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[23:04:31 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:04:31 INF] Executed DbCommand (31ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:04:31 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 7ms reading results.
[23:04:31 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:04:31 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:04:31 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:04:31 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:04:31 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:04:31 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:04:31 DBG] SaveChanges starting for 'AppDbContext'.
[23:04:31 DBG] DetectChanges starting for 'AppDbContext'.
[23:04:31 DBG] DetectChanges completed for 'AppDbContext'.
[23:04:31 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:04:31 DBG] Began transaction with isolation level 'Unspecified'.
[23:04:31 DBG] Creating DbCommand for 'ExecuteReader'.
[23:04:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:04:31 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[23:04:31 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:04:31 INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:04:31 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 4ms reading results.
[23:04:31 DBG] Committing transaction.
[23:04:31 DBG] Committed transaction.
[23:04:31 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:04:31 DBG] Disposing transaction.
[23:04:31 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:04:31 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:04:31 INF] ‚úÖ Metric written for luth-101/Patient (ID: 53deadf9-8547-4ab4-905f-ac25770f321e)
[23:04:31 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:04:31 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:04:31 DBG] SaveChanges starting for 'AppDbContext'.
[23:04:31 DBG] DetectChanges starting for 'AppDbContext'.
[23:04:31 DBG] DetectChanges completed for 'AppDbContext'.
[23:04:31 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:04:31 DBG] Began transaction with isolation level 'Unspecified'.
[23:04:31 DBG] Creating DbCommand for 'ExecuteReader'.
[23:04:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:04:31 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:04:31 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:04:31 INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:04:31 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:04:31 DBG] Committing transaction.
[23:04:31 DBG] Committed transaction.
[23:04:31 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:04:31 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:04:31 DBG] Disposing transaction.
[23:04:31 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:04:31 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:04:31 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 79588d34-895e-4e59-8951-4979acca270f)
[23:04:31 INF] ‚úÖ Sync metrics written for luth-101
[23:05:29 INF] Getting pending records ...
[23:05:29 INF] Getting pending records ...
[23:05:29 INF] Got 0 pending records from Patient...
[23:05:29 INF] Got 0 pending records from Encounter...
[23:06:29 INF] Getting pending records ...
[23:06:29 INF] Getting pending records ...
[23:06:29 INF] Got 0 pending records from Encounter...
[23:06:29 INF] Got 0 pending records from Patient...
[23:06:31 DBG] 'AppDbContext' disposed.
[23:06:31 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (2ms).
[23:06:31 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:06:31.4724722Z","LastSyncedAt":"2025-03-26T23:06:31.4724726Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"a3aa4412-eb36-4339-a039-ab4c9f5955a5","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"323dee8f-9c0c-4a63-b842-7d1f0810f20b","UpdatedAt":"2025-03-26T23:06:31.4738549Z"}
[23:06:31 DBG] üîÑ Upserting status for client: luth-101
[23:06:31 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:06:31 DBG] Creating DbConnection.
[23:06:31 DBG] Created DbConnection. (0ms).
[23:06:31 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Creating DbCommand for 'ExecuteReader'.
[23:06:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:06:31 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:06:31 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:06:31 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[23:06:31 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:06:31 DBG] üìù Updating existing status record.
[23:06:31 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:06:31 DBG] SaveChanges starting for 'AppDbContext'.
[23:06:31 DBG] DetectChanges starting for 'AppDbContext'.
[23:06:31 DBG] DetectChanges completed for 'AppDbContext'.
[23:06:31 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Creating DbCommand for 'ExecuteReader'.
[23:06:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:06:31 INF] Executed DbCommand (26ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:06:31 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:06:31 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:06:31 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:06:31 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:06:31 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:06:31 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:06:31 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:06:31 DBG] SaveChanges starting for 'AppDbContext'.
[23:06:31 DBG] DetectChanges starting for 'AppDbContext'.
[23:06:31 DBG] DetectChanges completed for 'AppDbContext'.
[23:06:31 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:06:31 DBG] Began transaction with isolation level 'Unspecified'.
[23:06:31 DBG] Creating DbCommand for 'ExecuteReader'.
[23:06:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:06:31 INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:06:31 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:06:31 DBG] Committing transaction.
[23:06:31 DBG] Committed transaction.
[23:06:31 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:06:31 DBG] Disposing transaction.
[23:06:31 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:06:31 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:06:31 INF] ‚úÖ Metric written for luth-101/Patient (ID: 548d19ca-cd2c-4984-8d8a-96d0fd344a67)
[23:06:31 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:06:31 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:06:31 DBG] SaveChanges starting for 'AppDbContext'.
[23:06:31 DBG] DetectChanges starting for 'AppDbContext'.
[23:06:31 DBG] DetectChanges completed for 'AppDbContext'.
[23:06:31 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:06:31 DBG] Began transaction with isolation level 'Unspecified'.
[23:06:31 DBG] Creating DbCommand for 'ExecuteReader'.
[23:06:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:06:31 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:06:31 INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:06:31 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:06:31 DBG] Committing transaction.
[23:06:31 DBG] Committed transaction.
[23:06:31 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:06:31 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:06:31 DBG] Disposing transaction.
[23:06:31 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:06:31 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:06:31 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 9aaeaf19-34c3-44f2-8a64-4b9bda084432)
[23:06:31 INF] ‚úÖ Sync metrics written for luth-101
[23:07:29 INF] Getting pending records ...
[23:07:29 INF] Getting pending records ...
[23:07:29 INF] Got 0 pending records from Patient...
[23:07:29 INF] Got 0 pending records from Encounter...
[23:08:29 INF] Getting pending records ...
[23:08:29 INF] Getting pending records ...
[23:08:29 INF] Got 0 pending records from Encounter...
[23:08:29 INF] Got 0 pending records from Patient...
[23:08:31 DBG] 'AppDbContext' disposed.
[23:08:31 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:31 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:08:31 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:08:31.9004261Z","LastSyncedAt":"2025-03-26T23:08:31.9004266Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"e7870da9-562b-4fff-ac45-f1118c7945f4","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"c4b7a140-f89d-41bf-a267-37b81724eff6","UpdatedAt":"2025-03-26T23:08:31.9017827Z"}
[23:08:31 DBG] üîÑ Upserting status for client: luth-101
[23:08:32 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:08:32 DBG] Creating DbConnection.
[23:08:32 DBG] Created DbConnection. (0ms).
[23:08:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:08:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:08:32 INF] Executed DbCommand (18ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:08:32 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:08:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[23:08:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:08:32 DBG] üìù Updating existing status record.
[23:08:32 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:08:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:08:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:08:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:08:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:08:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:08:32 INF] Executed DbCommand (27ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:08:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:08:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:08:32 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:08:32 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:08:32 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:08:32 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:08:32 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:08:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:08:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:08:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:08:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:08:32 DBG] Began transaction with isolation level 'Unspecified'.
[23:08:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:08:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:08:32 INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:08:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:08:32 DBG] Committing transaction.
[23:08:32 DBG] Committed transaction.
[23:08:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:08:32 DBG] Disposing transaction.
[23:08:32 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:08:32 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:08:32 INF] ‚úÖ Metric written for luth-101/Patient (ID: 3e01d139-69ff-43c5-8e05-b792188d2939)
[23:08:32 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:08:32 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:08:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:08:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:08:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:08:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:08:32 DBG] Began transaction with isolation level 'Unspecified'.
[23:08:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:08:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:08:32 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:08:32 INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:08:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:08:32 DBG] Committing transaction.
[23:08:32 DBG] Committed transaction.
[23:08:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:08:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:08:32 DBG] Disposing transaction.
[23:08:32 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:08:32 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:08:32 INF] ‚úÖ Metric written for luth-101/Encounter (ID: c7bfd9d9-38a6-41e9-8015-4f8b1e68e69c)
[23:08:32 INF] ‚úÖ Sync metrics written for luth-101
[23:09:29 INF] Getting pending records ...
[23:09:29 INF] Getting pending records ...
[23:09:29 INF] Got 0 pending records from Patient...
[23:09:29 INF] Got 0 pending records from Encounter...
[23:10:29 INF] Getting pending records ...
[23:10:29 INF] Getting pending records ...
[23:10:29 INF] Got 0 pending records from Encounter...
[23:10:29 INF] Got 0 pending records from Patient...
[23:10:32 DBG] 'AppDbContext' disposed.
[23:10:32 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:10:32 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:10:32.3971795Z","LastSyncedAt":"2025-03-26T23:10:32.3971798Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"ebd32a6e-41aa-43a0-8802-953757bbcb97","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"8b55ea67-4166-4031-bc7c-0d04e3a88c6e","UpdatedAt":"2025-03-26T23:10:32.3985354Z"}
[23:10:32 DBG] üîÑ Upserting status for client: luth-101
[23:10:32 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:10:32 DBG] Creating DbConnection.
[23:10:32 DBG] Created DbConnection. (0ms).
[23:10:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:10:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:10:32 INF] Executed DbCommand (19ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:10:32 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:10:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[23:10:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:10:32 DBG] üìù Updating existing status record.
[23:10:32 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:10:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:10:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:10:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:10:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:10:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:10:32 INF] Executed DbCommand (26ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:10:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:10:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:10:32 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:10:32 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:10:32 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:10:32 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:10:32 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:10:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:10:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:10:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:10:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:10:32 DBG] Began transaction with isolation level 'Unspecified'.
[23:10:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:10:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:10:32 INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:10:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:10:32 DBG] Committing transaction.
[23:10:32 DBG] Committed transaction.
[23:10:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:10:32 DBG] Disposing transaction.
[23:10:32 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:10:32 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:10:32 INF] ‚úÖ Metric written for luth-101/Patient (ID: b6e388ea-3cf5-48af-b2ff-e5b2ddcba7f5)
[23:10:32 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:10:32 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:10:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:10:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:10:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:10:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:10:32 DBG] Began transaction with isolation level 'Unspecified'.
[23:10:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:10:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:10:32 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:10:32 INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:10:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:10:32 DBG] Committing transaction.
[23:10:32 DBG] Committed transaction.
[23:10:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:10:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:10:32 DBG] Disposing transaction.
[23:10:32 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:10:32 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:10:32 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 8ef79061-6e4c-4df7-a29e-be36048728c5)
[23:10:32 INF] ‚úÖ Sync metrics written for luth-101
[23:11:29 INF] Getting pending records ...
[23:11:29 INF] Getting pending records ...
[23:11:29 INF] Got 0 pending records from Patient...
[23:11:29 INF] Got 0 pending records from Encounter...
[23:12:29 INF] Getting pending records ...
[23:12:29 INF] Getting pending records ...
[23:12:29 INF] Got 0 pending records from Patient...
[23:12:29 INF] Got 0 pending records from Encounter...
[23:12:32 DBG] 'AppDbContext' disposed.
[23:12:32 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:12:32 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:12:32.7961505Z","LastSyncedAt":"2025-03-26T23:12:32.7961507Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"99b40b8b-2419-4339-ba85-76c2035c0c07","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"812e5091-4ec8-4e74-aae7-7370f4b2062b","UpdatedAt":"2025-03-26T23:12:32.7970196Z"}
[23:12:32 DBG] üîÑ Upserting status for client: luth-101
[23:12:32 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:12:32 DBG] Creating DbConnection.
[23:12:32 DBG] Created DbConnection. (0ms).
[23:12:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:12:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:12:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:12:32 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:12:32 INF] Executed DbCommand (18ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:12:32 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:12:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[23:12:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:12:32 DBG] üìù Updating existing status record.
[23:12:32 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:12:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:12:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:12:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:12:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Creating DbCommand for 'ExecuteReader'.
[23:12:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:12:32 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:12:32 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:12:32 INF] Executed DbCommand (24ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:12:32 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:12:32 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:12:32 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:12:32 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:12:32 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:12:32 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:12:32 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:12:32 DBG] SaveChanges starting for 'AppDbContext'.
[23:12:32 DBG] DetectChanges starting for 'AppDbContext'.
[23:12:32 DBG] DetectChanges completed for 'AppDbContext'.
[23:12:32 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:32 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:12:33 DBG] Began transaction with isolation level 'Unspecified'.
[23:12:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:12:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:12:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:12:33 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:12:33 INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:12:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:12:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:12:33 DBG] Committing transaction.
[23:12:33 DBG] Committed transaction.
[23:12:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:12:33 DBG] Disposing transaction.
[23:12:33 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:12:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:12:33 INF] ‚úÖ Metric written for luth-101/Patient (ID: 6bb1d654-ee56-4b04-985e-3673570f6eae)
[23:12:33 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:12:33 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:12:33 DBG] SaveChanges starting for 'AppDbContext'.
[23:12:33 DBG] DetectChanges starting for 'AppDbContext'.
[23:12:33 DBG] DetectChanges completed for 'AppDbContext'.
[23:12:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:33 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:12:33 DBG] Began transaction with isolation level 'Unspecified'.
[23:12:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:12:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:12:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:12:33 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:12:33 INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:12:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:12:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:12:33 DBG] Committing transaction.
[23:12:33 DBG] Committed transaction.
[23:12:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:12:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:12:33 DBG] Disposing transaction.
[23:12:33 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:12:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:12:33 INF] ‚úÖ Metric written for luth-101/Encounter (ID: ee4afa8a-23c0-47ba-9624-3773c96fef3a)
[23:12:33 INF] ‚úÖ Sync metrics written for luth-101
[23:13:29 INF] Getting pending records ...
[23:13:29 INF] Getting pending records ...
[23:13:29 INF] Got 0 pending records from Encounter...
[23:13:29 INF] Got 0 pending records from Patient...
[23:14:29 INF] Getting pending records ...
[23:14:29 INF] Getting pending records ...
[23:14:29 INF] Got 0 pending records from Patient...
[23:14:29 INF] Got 0 pending records from Encounter...
[23:14:33 DBG] 'AppDbContext' disposed.
[23:14:33 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:14:33 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:14:33.1869544Z","LastSyncedAt":"2025-03-26T23:14:33.1869548Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"f4545b66-5101-4e1b-83bc-d5765d96a6dd","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"15d7355a-93ab-4f99-9bbd-1d8aee38f2c0","UpdatedAt":"2025-03-26T23:14:33.1884241Z"}
[23:14:33 DBG] üîÑ Upserting status for client: luth-101
[23:14:33 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:14:33 DBG] Creating DbConnection.
[23:14:33 DBG] Created DbConnection. (0ms).
[23:14:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:14:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:14:33 INF] Executed DbCommand (21ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:14:33 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:14:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 1ms reading results.
[23:14:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:14:33 DBG] üìù Updating existing status record.
[23:14:33 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:14:33 DBG] SaveChanges starting for 'AppDbContext'.
[23:14:33 DBG] DetectChanges starting for 'AppDbContext'.
[23:14:33 DBG] DetectChanges completed for 'AppDbContext'.
[23:14:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:14:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:14:33 INF] Executed DbCommand (26ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:14:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:14:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:14:33 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:14:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:14:33 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:14:33 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:14:33 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:14:33 DBG] SaveChanges starting for 'AppDbContext'.
[23:14:33 DBG] DetectChanges starting for 'AppDbContext'.
[23:14:33 DBG] DetectChanges completed for 'AppDbContext'.
[23:14:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:14:33 DBG] Began transaction with isolation level 'Unspecified'.
[23:14:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:14:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:14:33 INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:14:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:14:33 DBG] Committing transaction.
[23:14:33 DBG] Committed transaction.
[23:14:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:14:33 DBG] Disposing transaction.
[23:14:33 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:14:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:14:33 INF] ‚úÖ Metric written for luth-101/Patient (ID: a66f8592-6cbe-434c-9df2-fe150752b724)
[23:14:33 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:14:33 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:14:33 DBG] SaveChanges starting for 'AppDbContext'.
[23:14:33 DBG] DetectChanges starting for 'AppDbContext'.
[23:14:33 DBG] DetectChanges completed for 'AppDbContext'.
[23:14:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:14:33 DBG] Began transaction with isolation level 'Unspecified'.
[23:14:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:14:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:14:33 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:14:33 INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:14:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:14:33 DBG] Committing transaction.
[23:14:33 DBG] Committed transaction.
[23:14:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:14:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:14:33 DBG] Disposing transaction.
[23:14:33 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:14:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:14:33 INF] ‚úÖ Metric written for luth-101/Encounter (ID: f07b6646-11e5-40de-b307-bfaaf28ea465)
[23:14:33 INF] ‚úÖ Sync metrics written for luth-101
[23:15:29 INF] Getting pending records ...
[23:15:29 INF] Getting pending records ...
[23:15:29 INF] Got 0 pending records from Patient...
[23:15:29 INF] Got 0 pending records from Encounter...
[23:16:29 INF] Getting pending records ...
[23:16:29 INF] Getting pending records ...
[23:16:29 INF] Got 0 pending records from Encounter...
[23:16:29 INF] Got 0 pending records from Patient...
[23:16:33 DBG] 'AppDbContext' disposed.
[23:16:33 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:16:33 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:16:33.5886869Z","LastSyncedAt":"2025-03-26T23:16:33.5886872Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"e4d250fc-517a-4116-8e94-68ba604f3b11","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"aebef3cf-79b7-408d-bfd4-c20d4df7de0d","UpdatedAt":"2025-03-26T23:16:33.58957Z"}
[23:16:33 DBG] üîÑ Upserting status for client: luth-101
[23:16:33 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:16:33 DBG] Creating DbConnection.
[23:16:33 DBG] Created DbConnection. (0ms).
[23:16:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:16:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:16:33 INF] Executed DbCommand (17ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:16:33 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:16:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:16:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:16:33 DBG] üìù Updating existing status record.
[23:16:33 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:16:33 DBG] SaveChanges starting for 'AppDbContext'.
[23:16:33 DBG] DetectChanges starting for 'AppDbContext'.
[23:16:33 DBG] DetectChanges completed for 'AppDbContext'.
[23:16:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:16:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:16:33 INF] Executed DbCommand (26ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:16:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:16:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:16:33 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:16:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:16:33 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:16:33 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:16:33 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:16:33 DBG] SaveChanges starting for 'AppDbContext'.
[23:16:33 DBG] DetectChanges starting for 'AppDbContext'.
[23:16:33 DBG] DetectChanges completed for 'AppDbContext'.
[23:16:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:16:33 DBG] Began transaction with isolation level 'Unspecified'.
[23:16:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:16:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:16:33 INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:16:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:16:33 DBG] Committing transaction.
[23:16:33 DBG] Committed transaction.
[23:16:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:16:33 DBG] Disposing transaction.
[23:16:33 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:16:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:16:33 INF] ‚úÖ Metric written for luth-101/Patient (ID: 32d9b480-5862-4186-b6d6-fb213c813a69)
[23:16:33 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:16:33 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:16:33 DBG] SaveChanges starting for 'AppDbContext'.
[23:16:33 DBG] DetectChanges starting for 'AppDbContext'.
[23:16:33 DBG] DetectChanges completed for 'AppDbContext'.
[23:16:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:16:33 DBG] Began transaction with isolation level 'Unspecified'.
[23:16:33 DBG] Creating DbCommand for 'ExecuteReader'.
[23:16:33 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:16:33 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:16:33 INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:16:33 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:16:33 DBG] Committing transaction.
[23:16:33 DBG] Committed transaction.
[23:16:33 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:16:33 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:16:33 DBG] Disposing transaction.
[23:16:33 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:16:33 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:16:33 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 737f1aae-db9d-41b4-bd21-eaa5b1e550ae)
[23:16:33 INF] ‚úÖ Sync metrics written for luth-101
[23:17:29 INF] Getting pending records ...
[23:17:29 INF] Getting pending records ...
[23:17:29 INF] Got 0 pending records from Encounter...
[23:17:29 INF] Got 0 pending records from Patient...
[23:18:29 INF] Getting pending records ...
[23:18:29 INF] Getting pending records ...
[23:18:29 INF] Got 0 pending records from Patient...
[23:18:29 INF] Got 0 pending records from Encounter...
[23:18:33 DBG] 'AppDbContext' disposed.
[23:18:33 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:33 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:18:33 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:18:33.9904791Z","LastSyncedAt":"2025-03-26T23:18:33.9904794Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"7bba1579-3f5f-4c4d-b694-1ef2321cafaa","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"b6bf13db-8cf4-4dc8-a6f6-d6d808a3500d","UpdatedAt":"2025-03-26T23:18:33.991242Z"}
[23:18:33 DBG] üîÑ Upserting status for client: luth-101
[23:18:33 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:18:33 DBG] Creating DbConnection.
[23:18:33 DBG] Created DbConnection. (0ms).
[23:18:33 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:18:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:18:34 INF] Executed DbCommand (18ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:18:34 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:18:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:18:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:18:34 DBG] üìù Updating existing status record.
[23:18:34 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:18:34 DBG] SaveChanges starting for 'AppDbContext'.
[23:18:34 DBG] DetectChanges starting for 'AppDbContext'.
[23:18:34 DBG] DetectChanges completed for 'AppDbContext'.
[23:18:34 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:18:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:18:34 INF] Executed DbCommand (25ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:18:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:18:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:18:34 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:18:34 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:18:34 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:18:34 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:18:34 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:18:34 DBG] SaveChanges starting for 'AppDbContext'.
[23:18:34 DBG] DetectChanges starting for 'AppDbContext'.
[23:18:34 DBG] DetectChanges completed for 'AppDbContext'.
[23:18:34 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:18:34 DBG] Began transaction with isolation level 'Unspecified'.
[23:18:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:18:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:18:34 INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:18:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:18:34 DBG] Committing transaction.
[23:18:34 DBG] Committed transaction.
[23:18:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:18:34 DBG] Disposing transaction.
[23:18:34 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:18:34 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:18:34 INF] ‚úÖ Metric written for luth-101/Patient (ID: a14744e7-cadb-4543-86e4-be4058f9accd)
[23:18:34 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:18:34 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:18:34 DBG] SaveChanges starting for 'AppDbContext'.
[23:18:34 DBG] DetectChanges starting for 'AppDbContext'.
[23:18:34 DBG] DetectChanges completed for 'AppDbContext'.
[23:18:34 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:18:34 DBG] Began transaction with isolation level 'Unspecified'.
[23:18:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:18:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:18:34 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:18:34 INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:18:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:18:34 DBG] Committing transaction.
[23:18:34 DBG] Committed transaction.
[23:18:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:18:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:18:34 DBG] Disposing transaction.
[23:18:34 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:18:34 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:18:34 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 9edbc932-6c8e-472a-9fb5-82cd9de99a48)
[23:18:34 INF] ‚úÖ Sync metrics written for luth-101
[23:19:29 INF] Getting pending records ...
[23:19:29 INF] Getting pending records ...
[23:19:29 INF] Got 0 pending records from Patient...
[23:19:29 INF] Got 0 pending records from Encounter...
[23:20:29 INF] Getting pending records ...
[23:20:29 INF] Getting pending records ...
[23:20:29 INF] Got 0 pending records from Patient...
[23:20:29 INF] Got 0 pending records from Encounter...
[23:20:34 DBG] 'AppDbContext' disposed.
[23:20:34 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:20:34 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:20:34.3731102Z","LastSyncedAt":"2025-03-26T23:20:34.3731107Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"7e90b84d-1b67-485d-adc3-01f073fa1a6e","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"33c056cb-8ee7-45dc-952e-9b525307128c","UpdatedAt":"2025-03-26T23:20:34.3741606Z"}
[23:20:34 DBG] üîÑ Upserting status for client: luth-101
[23:20:34 DBG] Entity Framework Core 9.0.3 initialized 'AppDbContext' using provider 'MySql.EntityFrameworkCore:9.0.0.0-preview+MySQL9.2.0' with options: None
[23:20:34 DBG] Creating DbConnection.
[23:20:34 DBG] Created DbConnection. (0ms).
[23:20:34 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:20:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Executing DbCommand [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:20:34 INF] Executed DbCommand (18ms) [Parameters=[@__status_ClientId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`client_id`, `s`.`current_batch_id`, `s`.`hostname`, `s`.`ip_address`, `s`.`last_check_in`, `s`.`last_error`, `s`.`last_synced_at`, `s`.`signature_hash`, `s`.`status`, `s`.`total_failed`, `s`.`total_synced`, `s`.`updated_at`, `s`.`version`
FROM `ses_sync_client_status` AS `s`
WHERE `s`.`client_id` = @__status_ClientId_0
LIMIT 1
[23:20:34 DBG] Context 'AppDbContext' started tracking 'SyncClientStatus' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:20:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:20:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:20:34 DBG] üìù Updating existing status record.
[23:20:34 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:20:34 DBG] SaveChanges starting for 'AppDbContext'.
[23:20:34 DBG] DetectChanges starting for 'AppDbContext'.
[23:20:34 DBG] DetectChanges completed for 'AppDbContext'.
[23:20:34 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:20:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Executing DbCommand [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:20:34 INF] Executed DbCommand (29ms) [Parameters=[@p5='?' (Size = 255), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ses_sync_client_status` SET `current_batch_id` = @p0, `last_check_in` = @p1, `last_synced_at` = @p2, `signature_hash` = @p3, `updated_at` = @p4
WHERE `client_id` = @p5;
SELECT ROW_COUNT();
[23:20:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:20:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:20:34 DBG] An entity of type 'SyncClientStatus' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:20:34 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:20:34 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:20:34 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:20:34 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:20:34 DBG] SaveChanges starting for 'AppDbContext'.
[23:20:34 DBG] DetectChanges starting for 'AppDbContext'.
[23:20:34 DBG] DetectChanges completed for 'AppDbContext'.
[23:20:34 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:20:34 DBG] Began transaction with isolation level 'Unspecified'.
[23:20:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:20:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:20:34 INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:20:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:20:34 DBG] Committing transaction.
[23:20:34 DBG] Committed transaction.
[23:20:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:20:34 DBG] Disposing transaction.
[23:20:34 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:20:34 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:20:34 INF] ‚úÖ Metric written for luth-101/Patient (ID: b12607cd-0333-4e59-92ed-38fe5f247cd7)
[23:20:34 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:20:34 DBG] Context 'AppDbContext' started tracking 'SyncClientMetric' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:20:34 DBG] SaveChanges starting for 'AppDbContext'.
[23:20:34 DBG] DetectChanges starting for 'AppDbContext'.
[23:20:34 DBG] DetectChanges completed for 'AppDbContext'.
[23:20:34 DBG] Opening connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Opened connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Beginning transaction with isolation level 'Unspecified'.
[23:20:34 DBG] Began transaction with isolation level 'Unspecified'.
[23:20:34 DBG] Creating DbCommand for 'ExecuteReader'.
[23:20:34 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[23:20:34 DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:20:34 INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ses_sync_client_metrics` (`id`, `batch_id`, `client_id`, `created_at`, `created_by`, `failed_count`, `notes`, `resource_type`, `sync_window_end`, `sync_window_start`, `synced_count`, `updated_at`, `updated_by`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT ROW_COUNT();
[23:20:34 DBG] Closing data reader to 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] A data reader for 'ship_ses' on server '51.44.152.27' is being disposed after spending 0ms reading results.
[23:20:34 DBG] Committing transaction.
[23:20:34 DBG] Committed transaction.
[23:20:34 DBG] Closing connection to database 'ship_ses' on server '51.44.152.27'.
[23:20:34 DBG] Closed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:20:34 DBG] Disposing transaction.
[23:20:34 DBG] An entity of type 'SyncClientMetric' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[23:20:34 DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
[23:20:34 INF] ‚úÖ Metric written for luth-101/Encounter (ID: d79f4493-61a9-4aab-a6bb-2f530a6b1208)
[23:20:34 INF] ‚úÖ Sync metrics written for luth-101
[23:21:29 INF] Getting pending records ...
[23:21:29 INF] Getting pending records ...
[23:21:29 INF] Got 0 pending records from Encounter...
[23:21:29 INF] Got 0 pending records from Patient...
[23:21:56 INF] Application is shutting down...
[23:21:56 DBG] Hosting stopping
[23:21:56 DBG] 'AppDbContext' disposed.
[23:21:56 DBG] Disposing connection to database 'ship_ses' on server '51.44.152.27'.
[23:21:56 DBG] Disposed connection to database 'ship_ses' on server '51.44.152.27' (0ms).
[23:21:56 DBG] Hosting stopped
[23:22:10 INF] üöÄ Starting Patient Sync Worker...
[23:22:10 INF] Getting pending records ...
[23:22:10 INF] üöÄ Starting Encounter Sync Worker...
[23:22:10 INF] Getting pending records ...
[23:22:10 INF] üì° SyncMetricsReporter started for client: luth-101
[23:22:10 INF] Got 0 pending records from Patient...
[23:22:10 INF] Got 0 pending records from Encounter...
[23:22:10 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:22:10.5181188Z","LastSyncedAt":"2025-03-26T23:22:10.5181401Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"4f2317c5-f981-4519-8a37-43f23de67cee","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"50a2406d-91c4-46f9-a461-3027e5f0f4c1","UpdatedAt":"2025-03-26T23:22:10.5252591Z"}
[23:22:10 DBG] üîÑ Upserting status for client: luth-101
[23:22:12 DBG] üìù Updating existing status record.
[23:22:12 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:22:12 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:22:12 INF] ‚úÖ Metric written for luth-101/Patient (ID: b094bdc4-3010-45a4-9aa1-c73cabb7f138)
[23:22:12 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:22:12 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 50f4cb98-e278-4d7d-9f8e-de01aa4f57e0)
[23:22:12 INF] ‚úÖ Sync metrics written for luth-101
[23:23:10 INF] Getting pending records ...
[23:23:10 INF] Getting pending records ...
[23:23:10 INF] Got 0 pending records from Patient...
[23:23:10 INF] Got 0 pending records from Encounter...
[23:24:10 INF] Getting pending records ...
[23:24:10 INF] Getting pending records ...
[23:24:10 INF] Got 0 pending records from Patient...
[23:24:10 INF] Got 0 pending records from Encounter...
[23:24:12 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:24:12.7675501Z","LastSyncedAt":"2025-03-26T23:24:12.7675504Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"f1ec82c7-0ac8-4a54-bbc6-ad9839c574f3","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"3e4d1e1a-15b0-4d57-aecd-a71069050b1b","UpdatedAt":"2025-03-26T23:24:12.7686208Z"}
[23:24:12 DBG] üîÑ Upserting status for client: luth-101
[23:24:12 DBG] üìù Updating existing status record.
[23:24:12 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:24:12 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:24:12 INF] ‚úÖ Metric written for luth-101/Patient (ID: 8f64cf69-76c9-4273-9cc5-46abc629f9f8)
[23:24:12 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:24:13 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 28f0fc03-a2ff-4a20-b726-0c2cfe031fca)
[23:24:13 INF] ‚úÖ Sync metrics written for luth-101
[23:25:10 INF] Getting pending records ...
[23:25:10 INF] Getting pending records ...
[23:25:10 INF] Got 0 pending records from Encounter...
[23:25:10 INF] Got 0 pending records from Patient...
[23:26:10 INF] Getting pending records ...
[23:26:10 INF] Getting pending records ...
[23:26:10 INF] Got 0 pending records from Encounter...
[23:26:10 INF] Got 0 pending records from Patient...
[23:26:13 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:26:13.1043747Z","LastSyncedAt":"2025-03-26T23:26:13.1043751Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"160d5d05-68cc-4320-a391-a10841485023","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"f392c981-20cc-4300-968e-7ce23524035d","UpdatedAt":"2025-03-26T23:26:13.1057428Z"}
[23:26:13 DBG] üîÑ Upserting status for client: luth-101
[23:26:13 DBG] üìù Updating existing status record.
[23:26:13 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:26:13 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:26:13 INF] ‚úÖ Metric written for luth-101/Patient (ID: ce91cb59-d545-4598-a63d-9ff237896d2e)
[23:26:13 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:26:13 INF] ‚úÖ Metric written for luth-101/Encounter (ID: 095f755e-8f64-4162-b431-aeff5eb4f598)
[23:26:13 INF] ‚úÖ Sync metrics written for luth-101
[23:27:10 INF] Getting pending records ...
[23:27:10 INF] Getting pending records ...
[23:27:10 INF] Got 0 pending records from Encounter...
[23:27:10 INF] Got 0 pending records from Patient...
[23:28:10 INF] Getting pending records ...
[23:28:10 INF] Getting pending records ...
[23:28:10 INF] Got 0 pending records from Patient...
[23:28:10 INF] Got 0 pending records from Encounter...
[23:28:13 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:28:13.5306913Z","LastSyncedAt":"2025-03-26T23:28:13.5306916Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"29aa7f3d-c1e8-47b5-9201-759e9687615d","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"97fc1fad-749a-40d0-af6f-9ee20c01d01f","UpdatedAt":"2025-03-26T23:28:13.5320748Z"}
[23:28:13 DBG] üîÑ Upserting status for client: luth-101
[23:28:13 DBG] üìù Updating existing status record.
[23:28:13 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:28:13 DBG] üìä Inserting metric for luth-101 - Resource: Patient, Synced: 0, Failed: 0
[23:28:13 INF] ‚úÖ Metric written for luth-101/Patient (ID: 19d92705-239e-4ee9-bbce-e9fd9630fcc0)
[23:28:13 DBG] üìä Inserting metric for luth-101 - Resource: Encounter, Synced: 0, Failed: 0
[23:28:13 INF] ‚úÖ Metric written for luth-101/Encounter (ID: e3ec3d09-7529-4c30-85f2-21ddc7af103e)
[23:28:13 INF] ‚úÖ Sync metrics written for luth-101
[23:33:53 INF] üöÄ Starting Patient Sync Worker...
[23:33:53 INF] Getting pending records ...
[23:33:53 INF] üöÄ Starting Encounter Sync Worker...
[23:33:53 INF] Getting pending records ...
[23:33:53 INF] üì° SyncMetricsReporter started for client: luth-101
[23:33:53 INF] Got 0 pending records from Patient...
[23:33:53 INF] Got 0 pending records from Encounter...
[23:33:53 INF] Writing current sync status: {"ClientId":"luth-101","Status":"Running","LastCheckIn":"2025-03-26T23:33:53.7718006Z","LastSyncedAt":"2025-03-26T23:33:53.771837Z","TotalSynced":0,"TotalFailed":0,"CurrentBatchId":"ea5ea6ba-6b8a-43df-bf95-1fb8957372b9","LastError":null,"IpAddress":"192.168.1.239","Hostname":"Laolu-HP","Version":"1.0.0","SignatureHash":"d0d95584-3a98-40e3-9e6a-0c1a8115fe6a","UpdatedAt":"2025-03-26T23:33:53.7748708Z"}
[23:33:55 INF] ‚úÖ Status upserted for luth-101 (affected rows: 1)
[23:33:55 INF] ‚úÖ Metric written for luth-101/Patient (ID: b5cb4703-4f58-42e2-91ff-c3ab08bc15c4)
[23:33:55 INF] ‚úÖ Metric written for luth-101/Encounter (ID: e4066271-549b-4257-aad3-f2aa49f8d839)
[23:33:55 INF] ‚úÖ Sync metrics written for luth-101
[23:34:53 INF] Getting pending records ...
[23:34:53 INF] Getting pending records ...
[23:34:53 INF] Got 0 pending records from Patient...
[23:34:53 INF] Got 0 pending records from Encounter...
